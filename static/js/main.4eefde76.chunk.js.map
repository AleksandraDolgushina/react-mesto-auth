{"version":3,"sources":["utils/api.js","components/Footer.js","images/logo.svg","components/Header.js","components/ImagePopup.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteImgPopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","images/ok.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","address","token","this","_address","_token","response","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleResponse","data","method","body","JSON","stringify","name","about","link","id","resolve","isLiked","avatar","Footer","className","Header","email","handleLogOut","src","logoImg","alt","path","to","exact","onClick","ImagePopup","card","onClose","type","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","style","backgroundImage","onCardClick","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","PopupWithForm","title","children","buttonText","isOpen","onSubmit","EditProfilePopup","useState","setName","description","setDescription","useEffect","isLoading","e","preventDefault","onUpdateUser","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","placeholder","ref","AddPlacePopup","setLink","onUpdateCard","DeleteImgPopup","onUpdateDeleteCard","Login","handleLogin","password","setData","handleChange","noValidate","Register","handleRegister","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkResponse","InfoTooltip","popupStatus","error","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteImgPopupOpen","setIsDeleteImgPopupOpen","isInfoPopupOpen","setIsInfoPopupOpen","setPopupStatus","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","idDeleteCard","setIdDeleteCard","setLoggedIn","setEmail","history","useHistory","closeAllPopups","all","getUser","getCard","userData","cardsArray","catch","console","log","push","checkToken","jwt","localStorage","getItem","res","Provider","removeItem","changeLikeCardStatus","newCard","state","c","auth","setItem","editUser","finally","addCard","setAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4eefde76.chunk.js","sourcesContent":["class Api {\r\n    constructor({address, token}) {\r\n        this._address = address;\r\n        this._token = token;\r\n    }\r\n\r\n    _handleResponse(response) {\r\n        if (response.ok) {\r\n            return response.json()\r\n        } return Promise.reject(`Ошибка ${response.status}`)\r\n    };\r\n    \r\n    getUser() {\r\n        return fetch(`${this._address}/users/me`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n        .then(this._handleResponse)\r\n    ;}\r\n    \r\n    getCard() {\r\n        return fetch(`${this._address}/cards`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n        .then(this._handleResponse)\r\n    };\r\n        \r\n    editUser(data) {\r\n        return fetch(`${this._address}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n        .then(this._handleResponse)\r\n    };\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._address}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n        .then(this._handleResponse)\r\n    };\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._address}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token,\r\n            },\r\n        }) \r\n        .then(response => response.ok\r\n            ? Promise.resolve('success')\r\n            : Promise.reject(`Ошибка ${response.status}`))\r\n    };\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this._address}/cards/likes/${id}`, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: {\r\n                authorization: this._token,\r\n            },\r\n        }) \r\n        .then(this._handleResponse)\r\n    };\r\n\r\n    setAvatar(data) {\r\n        return fetch(`${this._address}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        }) \r\n        .then(this._handleResponse)\r\n    };\r\n}\r\n\r\nconst api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n    token: '0ee2eb4c-0866-4cef-874b-bf3a6be10df9'\r\n});\r\n\r\nexport default api;\r\n  ","import React from 'react'\r\n\r\nfunction Footer(){\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__author\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react'\r\nimport logoImg from '../images/logo.svg'\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nfunction Header({email, handleLogOut}) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logoImg} alt='Логотип'/>\r\n            <Route path=\"/sign-up\">\r\n                <Link className=\"header__auth-link\" to=\"sign-in\">Войти</Link>\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n                <Link className=\"header__auth-link\" to=\"sign-up\">Регистрация</Link>\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n                <div className=\"header__auth-info\">\r\n                    <p className=\"header__auth-email\">{email}</p>\r\n                    <button className=\"header__auth-button\" onClick={handleLogOut}>Выйти</button> \r\n                </div>\r\n            </Route>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React from 'react'\r\n\r\nfunction ImagePopup({ card, onClose}) {\r\n    return(\r\n        <section className= {`popup popup_open-image ${card && \"popup_opened\"}`}>\r\n            <div className=\"popup__container-image\">\r\n                <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n                <img className=\"popup__image\"  src={card?.link} alt={card?.name}/>\r\n                <h2 className=\"popup__place\">{card?.name}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default ImagePopup;","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn && 'element__delete_active'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like ${isLiked && 'element__like_active'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleCardDelete() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n\r\n    return( \r\n        <div className=\"element\">\r\n            <div className=\"element__image\" style={{ backgroundImage: `url(${props.card.link})`}} onClick={handleClick}/>\r\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n            <div className=\"element__title\">\r\n                <h2 className=\"element__place\">{props.card.name}</h2>\r\n                <div className=\"element__likes-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"element__likes\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card;","import React from 'react'\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(CurrentUserContext)\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__header\">\r\n                    <div className=\"profile__avatar-container\">\r\n                        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})`}} />\r\n                        <button className=\"profile__avatar-edit\" onClick={onEditAvatar}></button>\r\n                    </div>\r\n                    <div className=\"profile__info\">\r\n                        <div className=\"profile__text\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <p className=\"profile__description\">{currentUser.about}</p>\r\n                        </div>\r\n                        <button className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                {cards.map((item) => (\r\n                    <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n                ))}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\nexport default Main","import React from 'react'\r\n\r\nfunction PopupWithForm ({title, name, children, buttonText, isOpen, onClose, onSubmit}) {\r\n    return (\r\n        <section className={`popup popup_${name} ${isOpen && \"popup_opened\"}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>     \r\n                <form className=\"popup__form\" name={`form-${name}`} onSubmit={onSubmit}>\r\n                    <fieldset className=\"popup__info\">\r\n                        <h2 className=\"popup__title\">{title}</h2>{children}                \r\n                        <button className=\"popup__save-button\"  type=\"submit\">{buttonText}</button>\r\n                    </fieldset>\r\n                </form>\r\n\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n    \r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='Редактировать профиль'\r\n            name='edit' \r\n            buttonText={props.isLoading ? 'Сохранение...' : 'Сохранить'} \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__field\">\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"popup__item popup__item_type_name\" \r\n                    id=\"name-input\" \r\n                    name=\"name\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"40\" \r\n                    required \r\n                    value={name || ''}\r\n                    onChange={handleChangeName}\r\n                />\r\n                <span className=\"popup__input-error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input type=\"text\" \r\n                    className=\"popup__item popup__item_type_description\" \r\n                    id=\"description-input\" \r\n                    name=\"about\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"200\" \r\n                    required \r\n                    value={description || ''}\r\n                    onChange={handleChangeDescription}\r\n                />\r\n                <span className=\"popup__input-error description-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import PopupWithForm from \"./PopupWithForm\"\r\nimport React from 'react'\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = ''\r\n    }, [props.isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n      \r\n    return (\r\n        <PopupWithForm \r\n            title='Обновить аватар' \r\n            name='avatar' \r\n            buttonText={props.isLoading ? 'Обновление...' : 'Обновить'} \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__field\">\r\n                <input \r\n                    type=\"url\" \r\n                    className=\"popup__item popup__item_type_avatar\" \r\n                    id=\"avatar-input\" \r\n                    name=\"avatar\" \r\n                    required  \r\n                    placeholder=\"Ссылка на картинку\"\r\n                    ref={avatarRef}\r\n                />\r\n                <span className=\"popup__input-error avatar-input-error\"></span>\r\n            </label>         \r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from 'react'\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n            setName('')\r\n            setLink('')\r\n    }, [props.isOpen])\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n    \r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateCard({\r\n            name,\r\n            link,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='Новое место' \r\n            name='add' \r\n            buttonText={props.isLoading ? 'Создание...' : 'Создать'} \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__field\">\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"popup__item popup__item_type_title\" \r\n                    id=\"title-input\" \r\n                    name=\"name\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"30\" \r\n                    required  \r\n                    placeholder=\"Название\"\r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                />\r\n                <span className=\"popup__input-error title-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input \r\n                    type=\"url\" \r\n                    className=\"popup__item popup__item_type_link\" \r\n                    id=\"link-input\" \r\n                    name=\"link\" \r\n                    required \r\n                    placeholder=\"Ссылка на картинку\"\r\n                    value={link}\r\n                    onChange={handleChangeLink}\r\n                />\r\n                <span className=\"popup__input-error link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from 'react'\r\n\r\nfunction DeleteImgPopup(props) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateDeleteCard()\r\n\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='Вы уверены?' \r\n            name='delete' \r\n            buttonText={props.isLoading ? 'Удаление...' : 'Да'} \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}\r\n\r\nexport default DeleteImgPopup;","import React from 'react'\r\n\r\nconst Login = ({handleLogin}) => {\r\n  const [data, setData] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value \r\n    })\r\n  }\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!data.email || !data.password){\r\n      return;\r\n    }\r\n    handleLogin(data)\r\n  }\r\n  \r\n  return (\r\n    <section className=\"regist\">\r\n      <form className=\"regist__form\" name=\"login\" onSubmit={handleSubmit} noValidate>\r\n          <h2 className=\"regist__title\">Вход</h2>\r\n            <input className=\"regist__item\" type=\"email\" name=\"email\" placeholder=\"Email\" value={data.email} onChange={handleChange}></input>  \r\n            <input className=\"regist__item\" type=\"password\" name=\"password\" placeholder=\"Пароль\" value={data.password} onChange={handleChange}></input>\r\n          <button className=\"regist__save-button\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Register = ({handleRegister}) => {\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setData({\r\n          ...data,\r\n          [name]: value \r\n        })\r\n      }\r\n      const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!data.email || !data.password){\r\n          return;\r\n        }\r\n        const {password, email} = data\r\n        handleRegister({password, email})\r\n      }\r\n\r\n    return(\r\n      <section className=\"regist\">\r\n        <form className=\"regist__form\" name=\"register\" onSubmit={handleSubmit} noValidate>\r\n            <h2 className=\"regist__title\">Регистрация</h2>\r\n            <input className=\"regist__item\" type=\"email\" name=\"email\" placeholder=\"Email\" value={data.email} onChange={handleChange}></input>  \r\n            <input className=\"regist__item\" type=\"password\" name=\"password\" placeholder=\"Пароль\" value={data.password} onChange={handleChange}></input>\r\n            <button className=\"regist__save-button\"  type=\"submit\">Зарегистрироваться</button>\r\n        </form>\r\n        <p className=\"regist__text\">Уже зарегистрированы? <Link to=\"/sing-in\" className=\"regist__link\">Войти</Link></p>\r\n      </section>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`'Ошибка: ${response.status}'`)\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(checkResponse)\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  }) \r\n  .then(checkResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  }) \r\n  .then(res => checkResponse(res))\r\n}","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\r\nimport ok from '../images/ok.svg';\r\nimport error from '../images/error.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup ${props.isOpen && \"popup_opened\"}`}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n                <img className=\"popup__img\" src={props.popupStatus ? ok : error} alt=\"Результат\"></img>\r\n                <h2 className=\"popup__title\">\r\n                    {props.popupStatus ? \r\n                        \"Вы успешно зарегистрировались!\"\r\n                        : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n                </h2>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default InfoTooltip;","import React from 'react'\nimport api from '../utils/api';\nimport Footer from './Footer';\nimport Header from './Header';\nimport ImagePopup from './ImagePopup';\nimport Main from './Main';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteImgPopup from './DeleteImgPopup';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\nimport InfoTooltip from './InfoTooltip';\n\nconst App = () => {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n    const [isDeleteImgPopupOpen, setIsDeleteImgPopupOpen] = React.useState(false)\n    const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false)\n    const [popupStatus, setPopupStatus] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [idDeleteCard, setIdDeleteCard] = React.useState(null);\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [email, setEmail] = React.useState('')\n    const history = useHistory()\n\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(true)\n    }\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(true)\n    }\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    const handleDeleteClick = (card) => {\n        setIdDeleteCard(card._id)\n        setIsDeleteImgPopupOpen(true)\n    }\n\n    const handleCardClick = (card) => {\n        setSelectedCard(card)\n    }\n\n    const handleUpdateUser = (data) => {\n        setIsLoading(true)\n        api.editUser(data)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            })\n            .catch(error => console.log(error))\n            .finally(() => setIsLoading(false))\n    }\n\n    const handleUpdateAvatar = (data) => {\n        setIsLoading(true)\n        api.setAvatar(data)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            }) \n            .catch(error => console.log(error))\n            .finally(() => setIsLoading(false))\n    }\n\n    const handleAddPlaceSubmit = (data) => {\n        setIsLoading(true)\n        api.addCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            }) \n            .catch(error => console.log(error))\n            .finally(() => setIsLoading(false))\n    }\n\n    const closeAllPopups = () => {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(null);\n        setIsDeleteImgPopupOpen(false);\n        setIsInfoPopupOpen(false);\n    }\n\n    const  handleCardLike = (card) => {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);  \n        api.changeLikeCardStatus(card._id, isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch(error => console.log(error))\n    }\n\n    const handleCardDelete = () => {\n        setIsLoading(true)\n        api.deleteCard(idDeleteCard)\n            .then((newCard) => {\n                setCards((state) => state.filter((c) => c._id !== idDeleteCard && newCard));\n                closeAllPopups()\n            })\n            .catch(error => console.log(error))\n            .finally(() => setIsLoading(false))\n    }\n      \n    const handleRegister = ({password, email}) => {\n        auth.register(password, email)\n            .then(() => {\n                setIsInfoPopupOpen(true)\n                setPopupStatus(true)\n                history.push(\"/sign-in\");\n            })\n            .catch(error => {\n                console.log(error)\n                setIsInfoPopupOpen(true)\n                setPopupStatus(false)\n            })\n    }\n\n    const handleLogin = ({password, email}) => {\n        auth.authorize(password, email)\n            .then((res) => {\n                setLoggedIn(true);\n                setEmail(email)\n                localStorage.setItem('jwt', res.token);\n                history.push(\"/\");\n            })\n            .catch(error => {\n                console.log(error)\n                setIsInfoPopupOpen(true)\n                setPopupStatus(false)\n            })\n    }\n\n    const handleLogOut = () => {\n        setEmail('')\n        setLoggedIn(false)\n        localStorage.removeItem('jwt')\n    }\n\n    React.useEffect(() => {\n        Promise.all([api.getUser(), api.getCard()])\n            .then(([ userData, cardsArray ]) => {\n                setCurrentUser(userData)\n                setCards(cardsArray)\n            })\n            .catch(error => console.log(error))\n    }, []);\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            history.push('/')\n        }\n    }, [loggedIn])\n\n    React.useEffect( () => {\n        checkToken()\n    }, [])\n\n    const checkToken = () => {\n        const jwt = localStorage.getItem('jwt')\n        if (jwt) {\n            auth.getContent(jwt)\n            .then( res => {\n                setEmail(res.data.email)\n                setLoggedIn(true)\n            })\n            .catch(error => {\n                console.error(error)})\n        }\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <Header handleLogOut={handleLogOut} email={email}/>\n            <Switch>\n                <ProtectedRoute \n                    exact path=\"/\"\n                    component={Main}\n                    loggedIn={loggedIn}\n                    onEditAvatar={handleEditAvatarClick} \n                    onEditProfile={handleEditProfileClick} \n                    onAddPlace={handleAddPlaceClick} \n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleDeleteClick} \n                />\n                <Route path='/sign-in'>\n                    <Login handleLogin={handleLogin} />\n                </Route>\n                <Route path='/sign-up'>\n                    <Register handleRegister={handleRegister} />\n                </Route>\n                <Route>\n                    {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n                </Route>\n            </Switch>\n            <Footer />\n            <EditProfilePopup \n                isOpen={isEditProfilePopupOpen} \n                onClose={closeAllPopups} \n                onUpdateUser={handleUpdateUser}\n                isLoading={isLoading}\n            />\n            <AddPlacePopup \n                isOpen={isAddPlacePopupOpen} \n                onClose={closeAllPopups} \n                onUpdateCard={handleAddPlaceSubmit}\n                isLoading={isLoading}\n            />\n            <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen} \n                onClose={closeAllPopups} \n                onUpdateAvatar={handleUpdateAvatar}\n                isLoading={isLoading}\n            />\n            <DeleteImgPopup\n                isOpen={isDeleteImgPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateDeleteCard={handleCardDelete}\n                isLoading={isLoading}\n            />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n            <InfoTooltip isOpen={isInfoPopupOpen} onClose={closeAllPopups} popupStatus={popupStatus} />\n        </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}